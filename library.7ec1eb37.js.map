{"mappings":"8lBAAA,IAAAA,EAAAC,EAAA,S,aCAAC,EAAAD,EAAA,SAEe,SAAAE,EAAmCC,GAChD,OAAOA,EACJC,KACD,SAAAC,G,IAcMC,EAbJC,EAAWF,EAAXG,GACAC,EAAKJ,EAALI,MACAC,EAAIL,EAAJK,KACAC,EAAyBN,EAAzBO,aACAC,EAAyBR,EAAzBS,UACAC,EAAWV,EAAXU,YAEMC,EAAS,kCAA8CC,OAAZF,GAC3CG,EACJ,kEAEIC,GAAgB,EAAAlB,EAAAmB,SAAmBP,GAGzC,GAFEQ,QAAQC,IAAIH,KAEVA,EAAcI,OAAS,GA0B3B,OAtBAjB,EAASa,EAAcK,KAAK,MACR,6BACSP,OADoBV,EAAQ,yCAEvDU,OAD2BV,EAAQ,YAGJU,OAFf,OAAhBF,EAAuBC,EAASE,EACjC,6CAECD,OAD+BV,EAAQ,WAE/BU,OADQ,OAAhBF,EAAuBC,EAASE,EACjC,WAE6BD,OAFpBR,EAAM,4EAE0BQ,OAAZV,EAAQ,MAEFU,OAFMR,GAAgBC,EAAK,4EAG7DO,OADkCV,EAAQ,MAGVU,OAFhCX,GAAkB,UACnB,iDAGCW,OAFgCV,EAAQ,MAGzCU,OADCN,EAAcA,EAAYc,MAAM,EAAG,GAAK,UACzC,qEApBCnB,EAAS,GAAwCW,OAArCE,EAAcM,MAAM,EAAG,GAAGD,KAAK,MAAM,iBA4BlDA,KAAK,ID7CZ,IAAME,EAAO,CACXC,cAAeC,SAASC,cAAc,oBACtCC,WAAYF,SAASC,cAAc,YACnCE,SAAUH,SAASC,cAAc,WAGnCH,EAAKI,WAAWE,iBAAiB,QAASC,GAC1CP,EAAKK,SAASC,iBAAiB,SAe/B,WAgBEN,EAAKK,SAASG,UAAUC,IAAI,aAC5BT,EAAKI,WAAWI,UAAUE,OAAO,aACjCV,EAAKI,WAAWO,UAAW,EAC3BX,EAAKK,SAASM,UAAW,EAjBD,IAAxBC,EAAaf,OACRG,EAAKC,cAAcY,UAAYrC,EAA0BoC,GACzDZ,EAAKC,cAAcY,UAClB,4DAlBR,IAAIC,GAAiB,EAAAC,EAAArB,SAAarB,EAAA2C,qBAC9BJ,GAAe,EAAAG,EAAArB,SAAarB,EAAA4C,mBAIhC,SAASV,IAiBPP,EAAKI,WAAWI,UAAUC,IAAI,aAC9BT,EAAKK,SAASG,UAAUE,OAAO,aAC/BV,EAAKI,WAAWO,UAAW,EAC3BX,EAAKK,SAASM,UAAW,EAlBC,IAA1BG,EAAejB,OACVG,EAAKC,cAAcY,UAAYrC,EAA0BsC,GACzDd,EAAKC,cAAcY,UAClB,gEAPRN,I","sources":["src/js/displayLibrary.js","src/js/markupLibraryCard.js"],"sourcesContent":["import { STORAGE_KEY_WATCHED, STORAGE_KEY_QUEUE } from './constants';\r\nimport getFromLocal from './getFromLocal';\r\nimport createMoviesMarkupLibrary from './markupLibraryCard';\r\n\r\nconst refs = {\r\n  libraryGalery: document.querySelector('.gallery-library'),\r\n  watchedBtn: document.querySelector('.watched'),\r\n  queueBtn: document.querySelector('.queue'),\r\n};\r\n\r\nrefs.watchedBtn.addEventListener('click', displayWatched);\r\nrefs.queueBtn.addEventListener('click', displayQueue);\r\n\r\nlet movieToWatched = getFromLocal(STORAGE_KEY_WATCHED);\r\nlet movieToQueue = getFromLocal(STORAGE_KEY_QUEUE);\r\n\r\ndisplayWatched();\r\n\r\nfunction displayWatched() {\r\n  watchedBtnIsActive();\r\n  movieToWatched.length !== 0\r\n    ? (refs.libraryGalery.innerHTML = createMoviesMarkupLibrary(movieToWatched))\r\n    : (refs.libraryGalery.innerHTML =\r\n        'Sorry, you have not added any movie to your watched list yet.');\r\n}\r\n\r\nfunction displayQueue() {\r\n  queueBtnIsActive();\r\n  movieToQueue.length !== 0\r\n    ? (refs.libraryGalery.innerHTML = createMoviesMarkupLibrary(movieToQueue))\r\n    : (refs.libraryGalery.innerHTML =\r\n        'Sorry, you have not added any movie to your queue yet.');\r\n}\r\n\r\nfunction watchedBtnIsActive() {\r\n  refs.watchedBtn.classList.add('is-active');\r\n  refs.queueBtn.classList.remove('is-active');\r\n  refs.watchedBtn.disabled = true;\r\n  refs.queueBtn.disabled = false;\r\n}\r\n\r\nfunction queueBtnIsActive() {\r\n  refs.queueBtn.classList.add('is-active');\r\n  refs.watchedBtn.classList.remove('is-active');\r\n  refs.watchedBtn.disabled = false;\r\n  refs.queueBtn.disabled = true;\r\n}\r\n","import getGenresFromLocal from './getGenresFromLocal';\r\n\r\nexport default function createMoviesMarkupLibrary(movies) {\r\n  return movies\r\n    .map(\r\n    ({\r\n      id: movieId,\r\n      title,\r\n      name,\r\n      release_date: releaseDate,\r\n      genre_ids: genresIdsArray,\r\n      poster_path,\r\n    }) => {\r\n      const poster = `https://image.tmdb.org/t/p/w500${poster_path}`;\r\n      const placeholderImg =\r\n        'https://image.tmdb.org/t/p/w500/AcKVlWaNVVVFQwro3nLXqPljcYA.jpg';\r\n\r\n      const genresOfMovie = getGenresFromLocal(genresIdsArray);\r\n        console.log(genresOfMovie);\r\n      let genres;\r\n      if (genresOfMovie.length > 3) {\r\n        genres = `${genresOfMovie.slice(0, 3).join(', ')}, ...other`;\r\n        return;\r\n      }\r\n      genres = genresOfMovie.join(', ');\r\n      const movieMarkup = `<li class=\"card-item\" id=\"${movieId}\">\r\n        <a class=\"card-link\" id=\"${movieId}\" href=\"${\r\n        poster_path !== null ? poster : placeholderImg\r\n      }\">\r\n        <img class=\"card__image\" id=\"${movieId}\" src=\"${\r\n        poster_path !== null ? poster : placeholderImg\r\n      }\" alt=\"${title}\">\r\n        <div class=\"card-discr\">\r\n        <p class=\"card-title\" id=\"${movieId}\">${title ? title : name}</p>\r\n        <ul class=\"box\">\r\n            <li class=\"card-genres\" id=\"${movieId}\">${\r\n        genres ? genres : 'Unknown'\r\n      }</li>\r\n            <li class=\"card-data\" id=\"${movieId}\">${\r\n        // releaseDate ? releaseDate.slice(0, 4) : firstDate.slice(0, 4)\r\n        releaseDate ? releaseDate.slice(0, 4) : 'Unknown'\r\n      }</li>\r\n        </ul>\r\n        </div>\r\n        </a>    \r\n    </li>`;\r\n      return movieMarkup;\r\n    }\r\n    )\r\n      .join('');\r\n  }"],"names":["$4s6iC","parcelRequire","$daCfg","$760b49aee72a155a$export$2e2bcd8739ae039","movies","map","param","genres","movieId","id","title","name","releaseDate","release_date","genresIdsArray","genre_ids","poster_path","poster","concat","placeholderImg","genresOfMovie","default","console","log","length","join","slice","$3065a459960a63c8$var$refs","libraryGalery","document","querySelector","watchedBtn","queueBtn","addEventListener","$3065a459960a63c8$var$displayWatched","classList","add","remove","disabled","$3065a459960a63c8$var$movieToQueue","innerHTML","$3065a459960a63c8$var$movieToWatched","$jOfKZ","STORAGE_KEY_WATCHED","STORAGE_KEY_QUEUE"],"version":3,"file":"library.7ec1eb37.js.map"}