{"mappings":"klBAAA,IAAAA,EAAAC,EAAA,S,aCAAC,EAAAD,EAAA,SAEe,SAAAE,EAAmCC,GAChD,OAAOA,EACJC,KACD,EACEC,GAAIC,EAAOC,MACXA,EAAKC,KACLA,EACAC,aAAcC,EACdC,UAAWC,EAAcC,YACzBA,MAEA,MAAMC,EAAS,kCAAkCD,IAC3CE,EACJ,kEAEIC,GAAgB,EAAAf,EAAAgB,SAAmBL,GAEzC,IAAIM,EACJ,GAFEC,QAAQC,IAAIJ,GAEVA,EAAcK,OAAS,EAEzB,YADAH,EAAS,GAAGF,EAAcM,MAAM,EAAG,GAAGC,KAAK,mBAG7CL,EAASF,EAAcO,KAAK,M,MACR,6BAA6BjB,yCAerBA,YAC3B,OADyCO,EACzCC,EAAAC,6CAKkBT,WAAA,OAAAO,EAAAC,EAAAC,WAAAR,4EAItBD,MAAAC,GAAAC,4E,gLD9CH,MAAMgB,EAAO,CACXC,cAAeC,SAASC,cAAc,oBACtCC,WAAYF,SAASC,cAAc,YACnCE,SAAUH,SAASC,cAAc,WAGnCH,EAAKI,WAAWE,iBAAiB,QAASC,GAC1CP,EAAKK,SAASC,iBAAiB,SAe/B,WAgBEN,EAAKK,SAASG,UAAUC,IAAI,aAC5BT,EAAKI,WAAWI,UAAUE,OAAO,aACjCV,EAAKI,WAAWO,UAAW,EAC3BX,EAAKK,SAASM,UAAW,EAjBD,IAAxBC,EAAaf,OACRG,EAAKC,cAAcY,UAAYnC,EAA0BkC,GACzDZ,EAAKC,cAAcY,UAClB,4DAlBR,IAAIC,GAAiB,EAAAC,EAAAtB,SAAalB,EAAAyC,qBAC9BJ,GAAe,EAAAG,EAAAtB,SAAalB,EAAA0C,mBAIhC,SAASV,IAiBPP,EAAKI,WAAWI,UAAUC,IAAI,aAC9BT,EAAKK,SAASG,UAAUE,OAAO,aAC/BV,EAAKI,WAAWO,UAAW,EAC3BX,EAAKK,SAASM,UAAW,EAlBC,IAA1BG,EAAejB,OACVG,EAAKC,cAAcY,UAAYnC,EAA0BoC,GACzDd,EAAKC,cAAcY,UAClB,gEAPRN","sources":["src/js/displayLibrary.js","src/js/markupLibraryCard.js"],"sourcesContent":["import { STORAGE_KEY_WATCHED, STORAGE_KEY_QUEUE } from './constants';\r\nimport getFromLocal from './getFromLocal';\r\nimport createMoviesMarkupLibrary from './markupLibraryCard';\r\n\r\nconst refs = {\r\n  libraryGalery: document.querySelector('.gallery-library'),\r\n  watchedBtn: document.querySelector('.watched'),\r\n  queueBtn: document.querySelector('.queue'),\r\n};\r\n\r\nrefs.watchedBtn.addEventListener('click', displayWatched);\r\nrefs.queueBtn.addEventListener('click', displayQueue);\r\n\r\nlet movieToWatched = getFromLocal(STORAGE_KEY_WATCHED);\r\nlet movieToQueue = getFromLocal(STORAGE_KEY_QUEUE);\r\n\r\ndisplayWatched();\r\n\r\nfunction displayWatched() {\r\n  watchedBtnIsActive();\r\n  movieToWatched.length !== 0\r\n    ? (refs.libraryGalery.innerHTML = createMoviesMarkupLibrary(movieToWatched))\r\n    : (refs.libraryGalery.innerHTML =\r\n        'Sorry, you have not added any movie to your watched list yet.');\r\n}\r\n\r\nfunction displayQueue() {\r\n  queueBtnIsActive();\r\n  movieToQueue.length !== 0\r\n    ? (refs.libraryGalery.innerHTML = createMoviesMarkupLibrary(movieToQueue))\r\n    : (refs.libraryGalery.innerHTML =\r\n        'Sorry, you have not added any movie to your queue yet.');\r\n}\r\n\r\nfunction watchedBtnIsActive() {\r\n  refs.watchedBtn.classList.add('is-active');\r\n  refs.queueBtn.classList.remove('is-active');\r\n  refs.watchedBtn.disabled = true;\r\n  refs.queueBtn.disabled = false;\r\n}\r\n\r\nfunction queueBtnIsActive() {\r\n  refs.queueBtn.classList.add('is-active');\r\n  refs.watchedBtn.classList.remove('is-active');\r\n  refs.watchedBtn.disabled = false;\r\n  refs.queueBtn.disabled = true;\r\n}\r\n","import getGenresFromLocal from './getGenresFromLocal';\r\n\r\nexport default function createMoviesMarkupLibrary(movies) {\r\n  return movies\r\n    .map(\r\n    ({\r\n      id: movieId,\r\n      title,\r\n      name,\r\n      release_date: releaseDate,\r\n      genre_ids: genresIdsArray,\r\n      poster_path,\r\n    }) => {\r\n      const poster = `https://image.tmdb.org/t/p/w500${poster_path}`;\r\n      const placeholderImg =\r\n        'https://image.tmdb.org/t/p/w500/AcKVlWaNVVVFQwro3nLXqPljcYA.jpg';\r\n\r\n      const genresOfMovie = getGenresFromLocal(genresIdsArray);\r\n        console.log(genresOfMovie);\r\n      let genres;\r\n      if (genresOfMovie.length > 3) {\r\n        genres = `${genresOfMovie.slice(0, 3).join(', ')}, ...other`;\r\n        return;\r\n      }\r\n      genres = genresOfMovie.join(', ');\r\n      const movieMarkup = `<li class=\"card-item\" id=\"${movieId}\">\r\n        <a class=\"card-link\" id=\"${movieId}\" href=\"${\r\n        poster_path !== null ? poster : placeholderImg\r\n      }\">\r\n        <img class=\"card__image\" id=\"${movieId}\" src=\"${\r\n        poster_path !== null ? poster : placeholderImg\r\n      }\" alt=\"${title}\">\r\n        <div class=\"card-discr\">\r\n        <p class=\"card-title\" id=\"${movieId}\">${title ? title : name}</p>\r\n        <ul class=\"box\">\r\n            <li class=\"card-genres\" id=\"${movieId}\">${\r\n        genres ? genres : 'Unknown'\r\n      }</li>\r\n            <li class=\"card-data\" id=\"${movieId}\">${\r\n        // releaseDate ? releaseDate.slice(0, 4) : firstDate.slice(0, 4)\r\n        releaseDate ? releaseDate.slice(0, 4) : 'Unknown'\r\n      }</li>\r\n        </ul>\r\n        </div>\r\n        </a>    \r\n    </li>`;\r\n      return movieMarkup;\r\n    }\r\n    )\r\n      .join('');\r\n  }"],"names":["$8G1wF","parcelRequire","$2Ea8k","$f4918faf1d6bada0$export$2e2bcd8739ae039","movies","map","id","movieId","title","name","release_date","releaseDate","genre_ids","genresIdsArray","poster_path","poster","placeholderImg","genresOfMovie","default","genres","console","log","length","slice","join","$9ec201cb4d2b40da$var$refs","libraryGalery","document","querySelector","watchedBtn","queueBtn","addEventListener","$9ec201cb4d2b40da$var$displayWatched","classList","add","remove","disabled","$9ec201cb4d2b40da$var$movieToQueue","innerHTML","$9ec201cb4d2b40da$var$movieToWatched","$cbBSt","STORAGE_KEY_WATCHED","STORAGE_KEY_QUEUE"],"version":3,"file":"library.f2dd32cd.js.map"}